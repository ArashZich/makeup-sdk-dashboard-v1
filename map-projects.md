# گزارش پیشرفت پروژه و نقشه راه

## آنچه تا کنون انجام شده است

تا اینجا ما ساختار اصلی داشبورد مدیریت SDK آرایش مجازی را پیاده‌سازی کرده‌ایم:

### 1. ساختار بندی پروژه
- تعریف لایوت‌های اصلی در `/src/layouts`
  - `AuthLayout.tsx` - لایوت صفحات احراز هویت
  - `DashboardLayout.tsx` - لایوت داشبورد اصلی

### 2. قابلیت احراز هویت (Authentication)
- ایجاد کامپوننت‌های احراز هویت در `/src/features/auth/components`
  - `PhoneLoginForm.tsx` - فرم ورود با شماره تلفن
  - `OtpVerificationForm.tsx` - فرم تأیید کد یکبار مصرف

- ایجاد صفحات احراز هویت در `/src/features/auth/views`
  - `LoginView.tsx` - نمای صفحه ورود
  - `VerifyOtpView.tsx` - نمای صفحه تأیید کد

- تنظیم صفحات در ساختار App Router
  - `/src/app/auth/login/page.tsx`
  - `/src/app/auth/verify-otp/page.tsx`
  - `/src/app/auth/layout.tsx`

### 3. کامپوننت‌های داشبورد
- ایجاد کامپوننت‌های اصلی داشبورد
  - `Header.tsx` - هدر داشبورد شامل دکمه‌های تغییر زبان، تم و دسترسی به پروفایل
  - `Sidebar.tsx` - منوی کناری با لیست دسترسی‌ها

### 4. صفحه اصلی داشبورد
- ایجاد `DashboardOverview.tsx` که نمای کلی از وضعیت SDK کاربر را نمایش می‌دهد
  - نمایش بسته فعال
  - نمایش تعداد درخواست‌های باقی‌مانده
  - نمایش وضعیت SDK
  - پیشنهاد خرید پلن در صورت نداشتن بسته فعال

### 5. چندزبانگی
- آماده‌سازی فایل‌های ترجمه برای فارسی و انگلیسی
  - `/src/messages/fa.json`
  - `/src/messages/en.json`

### 6. رفع مشکلات فنی
- اصلاح `next.config.ts` برای حذف گزینه‌های غیرپشتیبانی‌شده
- انتقال `themeColor` به `viewport` برای رفع وارنینگ‌ها
- بهبود استایل‌های صفحات احراز هویت
- رفع مشکل اسکرول در AuthLayout با افزودن `overflow-hidden`

## نقشه راه ادامه پروژه

در ادامه، موارد زیر باید پیاده‌سازی شوند:

### 1. تکمیل صفحات داشبورد

#### 1.1. صفحه پلن‌ها (Plans)
- نمایش لیست پلن‌های موجود
- نمایش جزئیات هر پلن
- امکان خرید پلن
- نمایش تاریخچه خرید

#### 1.2. صفحه بسته‌ها (Packages)
- نمایش بسته‌های فعال کاربر
- نمایش بسته‌های منقضی شده
- امکان تمدید بسته
- نمایش جزئیات هر بسته (تاریخ انقضا، درخواست‌های باقی‌مانده و...)

#### 1.3. صفحه SDK (مهم)
- نمایش وضعیت SDK
- نمایش توکن SDK با قابلیت کپی کردن
- صفحه خاص برای نمایش توکن بعد از خرید پکیج
- به‌روزرسانی خودکار توکن در صورت تغییر
- مدیریت ویژگی‌های SDK

#### 1.4. صفحه محصولات (Products)
- نمایش لیست محصولات کاربر
- امکان افزودن محصول جدید
- ویرایش و حذف محصولات
- مدیریت رنگ‌ها و الگوهای محصولات

#### 1.5. صفحه آنالیتیکس (Analytics)
- نمایش نمودارهای استفاده از SDK
- آمار درخواست‌ها
- نرخ موفقیت درخواست‌ها
- آمار دستگاه‌ها و مرورگرها

#### 1.6. صفحه پرداخت‌ها (Payments)
- نمایش تاریخچه پرداخت‌های کاربر
- جزئیات هر پرداخت
- وضعیت پرداخت‌ها

#### 1.7. صفحه اعلان‌ها (Notifications)
- نمایش لیست اعلان‌ها
- علامت‌گذاری اعلان‌ها به عنوان خوانده شده
- فیلتر اعلان‌ها بر اساس نوع

#### 1.8. صفحه پروفایل (Profile)
- نمایش اطلاعات کاربر
- ویرایش اطلاعات کاربر
- مدیریت دامنه‌های مجاز

#### 1.9. صفحه تنظیمات (Settings)
- تنظیمات ظاهری (تم، زبان)
- تنظیمات اطلاع‌رسانی (ایمیل، پیامک)

### 2. صفحه خاص نمایش توکن SDK پس از خرید

ایجاد یک صفحه خاص برای نمایش توکن SDK پس از خرید پکیج با ویژگی‌های زیر:
- نمایش توکن در قالب یک کادر بزرگ و واضح
- دکمه کپی برای کپی کردن سریع توکن
- توضیحات لازم برای استفاده از توکن
- لینک‌هایی به مستندات استفاده از SDK
- نمایش ویژگی‌های فعال شده در بسته

این صفحه باید:
- بعد از هر خرید موفق پکیج نمایش داده شود
- از طریق بخش SDK نیز قابل دسترسی باشد
- در صورت به‌روزرسانی توکن، توکن جدید را نمایش دهد
- امکان بازگشت به داشبورد را فراهم کند

### 3. مدیریت وضعیت و API ها

#### 3.1. ادغام با API ها
- پیاده‌سازی کامل هوک‌های API برای هر بخش
- مدیریت وضعیت‌های بارگذاری، خطا و موفقیت
- پیاده‌سازی مکانیزم Retry برای درخواست‌های ناموفق
- هماهنگی با API به‌روزرسانی توکن SDK

#### 3.2. بهبود مدیریت وضعیت
- استفاده از React Query برای مدیریت وضعیت سمت سرور
- استفاده از Zustand برای مدیریت وضعیت سمت کلاینت
- مدیریت کش و revalidation داده‌ها
- به‌روزرسانی خودکار اطلاعات بسته و توکن

### 4. بخش ویژه ادمین
- صفحه مدیریت کاربران
- صفحه مدیریت پلن‌ها
- صفحه مدیریت کوپن‌ها
- صفحه آنالیتیکس کل سیستم
- توانایی مدیریت توکن‌های SDK کاربران

### 5. بهبود UX/UI
- افزودن انیمیشن‌های انتقال بین صفحات
- بهبود رابط کاربری موبایل
- افزودن اسکلتون لودینگ
- پیاده‌سازی کامل تم تاریک و روشن
- پشتیبانی کامل از RTL و LTR
- طراحی بصری جذاب برای صفحه نمایش توکن SDK

### 6. تکمیل چندزبانگی
- تکمیل فایل‌های ترجمه
- پشتیبانی کامل از دو زبان فارسی و انگلیسی
- اعمال تغییر فونت و سایر استایل‌های مرتبط با زبان

### 7. اضافه کردن قابلیت‌های پیشرفته
- آپلود تصویر برای محصولات
- ویرایشگر رنگ برای تنظیم رنگ‌های محصولات
- پیش‌نمایش محصولات
- گزارش‌گیری و دانلود داده‌ها
- سیستم نوتیفیکیشن برای اطلاع‌رسانی از به‌روزرسانی توکن SDK

### 8. تست و بهینه‌سازی
- تست سناریوهای مختلف کاربری
- بهینه‌سازی عملکرد
- بهینه‌سازی SEO
- بهینه‌سازی دسترسی‌پذیری

## ساختار API های مورد استفاده 

پروژه از ساختار منظمی برای مدیریت API ها استفاده می‌کند:

### الف. خدمات API (Services)
- `/src/api/services/auth-service.ts` - سرویس احراز هویت
- `/src/api/services/users-service.ts` - سرویس کاربران
- `/src/api/services/plans-service.ts` - سرویس پلن‌ها
- `/src/api/services/packages-service.ts` - سرویس بسته‌ها
- `/src/api/services/products-service.ts` - سرویس محصولات
- `/src/api/services/payments-service.ts` - سرویس پرداخت‌ها
- `/src/api/services/notifications-service.ts` - سرویس اعلان‌ها
- `/src/api/services/analytics-service.ts` - سرویس آنالیتیکس
- `/src/api/services/coupons-service.ts` - سرویس کوپن‌ها
- `/src/api/services/sdk-service.ts` - سرویس SDK

### ب. هوک‌های API (Hooks)
- `/src/api/hooks/useAuth.ts` - هوک احراز هویت
- `/src/api/hooks/useUsers.ts` - هوک کاربران
- `/src/api/hooks/usePlans.ts` - هوک پلن‌ها
- `/src/api/hooks/usePackages.ts` - هوک بسته‌ها
- `/src/api/hooks/useProducts.ts` - هوک محصولات
- `/src/api/hooks/usePayments.ts` - هوک پرداخت‌ها
- `/src/api/hooks/useNotifications.ts` - هوک اعلان‌ها
- `/src/api/hooks/useAnalytics.ts` - هوک آنالیتیکس
- `/src/api/hooks/useCoupons.ts` - هوک کوپن‌ها
- `/src/api/hooks/useSdk.ts` - هوک SDK

### ج. تایپ‌های API (Types)
- `/src/api/types/auth.types.ts` - تایپ‌های احراز هویت
- `/src/api/types/users.types.ts` - تایپ‌های کاربران
- `/src/api/types/plans.types.ts` - تایپ‌های پلن‌ها
- `/src/api/types/packages.types.ts` - تایپ‌های بسته‌ها
- `/src/api/types/products.types.ts` - تایپ‌های محصولات
- `/src/api/types/payments.types.ts` - تایپ‌های پرداخت‌ها
- `/src/api/types/notifications.types.ts` - تایپ‌های اعلان‌ها
- `/src/api/types/analytics.types.ts` - تایپ‌های آنالیتیکس
- `/src/api/types/coupons.types.ts` - تایپ‌های کوپن‌ها
- `/src/api/types/sdk.types.ts` - تایپ‌های SDK

## اولویت پیاده‌سازی

برای ادامه کار، پیشنهاد می‌شود ابتدا صفحات اصلی با اولویت زیر تکمیل شوند:

1. صفحه پلن‌ها (برای خرید پلن)
2. صفحه SDK (برای دسترسی به توکن SDK)
   - با تأکید ویژه بر صفحه خاص نمایش توکن پس از خرید
3. صفحه بسته‌ها (برای مدیریت بسته‌های فعال)
4. صفحه محصولات (برای مدیریت محصولات)
5. صفحه پروفایل و تنظیمات
6. صفحه پرداخت‌ها
7. صفحه آنالیتیکس
8. صفحه اعلان‌ها
9. بخش ادمین

برای هر صفحه باید کامپوننت‌ها، view ها و صفحات مرتبط ایجاد شوند و با API ها یکپارچه‌سازی شوند.

با توجه به ساختار پروژه، رویکرد Feature-First و استفاده از کتابخانه‌های shadcn/ui، TanStack Query و Zustand، ادامه کار باید با حفظ این ساختار و پیروی از الگوهای موجود انجام شود.